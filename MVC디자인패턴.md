## 스프링과 MVC 디자인 패턴

디자인 패턴은 소프트웨어의 개발 방법을 공식화 한 것으로, 특정한 '규약'을 통하여 쉽게 쓸 수 있는 형태로 만든것을 말합니다.

스트래티지 패턴, 옵저버 패턴 등 여러가지의 디자인 패턴이 있지만, 가장 유명하고 많이 접해볼 수 있는것이 바로 MVC 패턴입니다.

![img](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbYc6br%2FbtsGNhtqdGR%2FTBHCCrxK1a6dFkfPKPbkNk%2Fimg.png)

MVC란 Model, View, Controller의 약자로 어플리케이션을 세가지의 역할로 구분한 방법론이다. 

해당 그림처럼 사용자가 Contorller를 조작하면 Model을 통하여 데이터를 가져온 뒤, 해당 정보들을 시각화하여 표현하는 View를 제어하여 사용자에게 전달하게 되는 구조이다.

 

세가지 구조들이 가지고 있는 중요한 규칙에 대해 알아보면

 

### Model

1. 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야한다.

2. 뷰나 컨트롤러에 대해서 어떠한 정보도 알아선 안된다.

- 데이터 변경이 일어났을때 모델에서 화면 UI를 직접 조정해 수정할 수 있도록 뷰를 참조하는 내부속성값을 가지면 안된다.

3. 변경이 일어나면 변경 통지에 대한 처리방법을 구현해야만 한다.

 

### View

1. 모델이 가지고 있는 정보를 따로 저장해서는 안된다.

2. 모델이나 컨트롤러와 같이 다른 구성요소들을 몰라야 한다.

- 다른 요소는 참조하거나 동작방법에 대해 알아서는 안되고, 단순히 표시해주는 역할만 가져야함.

3. 변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다.

 

### Controller

1. 모델이나 뷰에 대해서 알고 있어야 한다.

- 모델과 뷰와는 다르게 둘을 중재하기 위하여 알고있어야 한다.

2. 모델이나 뷰의 변경을 모니터링 해야 한다.

 
## MVC패턴을 사용해야 하는 이유.

각각의 기능이 서로 분리되어 각자의 역할에 집중하는 어플리케이션을 만들게 되어

유지보수능력 , 어플리케이션의 확장성 그리고 유연성의 증가, 중복으로 코드가 낭비되는 상황 또한 방지하기 위하여 사용한다.


## Spring에서의 MVC

![img](https://blog.kakaocdn.net/dn/8MQYQ/btsGN3uwNQo/PJigQ1ka6VYXJlk5gVGLbK/img.png)

동작 순서

- 클라이언트로부터 Dispatcher Servlet으로 HTTP요청이 들어온다
- 핸들러 매핑을 통해 URL에 매핑된 핸들러를 조회한다
- 핸들러 어댑터를 실행한다
- 핸들러 어댑터가 실제 핸들러를 실행한다
- 핸들러 어댑터는 핸들러가 반환하는 정보를 Model And View로 변환하여 반환함
- 뷰 리졸버를 찾고 실행한다
- 뷰 리졸버는 뷰의 논리 이름을 물리이름으로 바꾼뒤, 렌더링 역할을 담당하는 뷰 객체를 반환한다
- 뷰를 통해 뷰를 렌더링 한다.

## 참고
https://ittrue.tistory.com/234

https://opentutorials.org/course/697/3828

https://m.blog.naver.com/jhc9639/220967034588


